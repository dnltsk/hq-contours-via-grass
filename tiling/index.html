<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <title></title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.32.1/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.32.1/mapbox-gl.css' rel='stylesheet' />
  <style>
    body { margin:0; padding:0; }
    #map { position:absolute; top:0; bottom:0; width:100%; }
  </style>
</head>
<body>

<div id='map'></div>
<script>
  mapboxgl.accessToken = 'pk.eyJ1IjoibWV0ZW9ncm91cC1tYXBib3giLCJhIjoiY2lzcG5lN2F2MDAwMzJ6cGI3emQ5dmkweCJ9.9bi-UeovXc2D_yks9fc2Yw';

  var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/light-v9',
    zoom: 3,
    center: [-122.447303, 37.753574]
  });

  map.on('load', function () {
    var l = map.addLayer({
      "id": "isolines",
      "type": "line",
      "source": {
        type: 'vector',
        tiles: ["http://localhost:9090/out/{z}/{x}/{y}.pbf"]
      },
      "layout": {
            "line-join": "round",
            "line-cap": "round"
        },
        "paint": {
            "line-color": "#888",
            "line-width": 1
        },
      "source-layer": "geojsonLayer"
    });
    console.log(l);
  });
  

  map.addControl(new mapboxgl.NavigationControl());  
</script>

</body>
</html>